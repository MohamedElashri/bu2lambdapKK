# Snakefile â€” Split Charmonium Optimization Study

ANALYSIS_DIR = "../.."
CONFIG_DIR = f"{ANALYSIS_DIR}/config"
CACHE_DIR = f"{ANALYSIS_DIR}/cache"
OUTPUT_DIR = "output"

configfile: f"{ANALYSIS_DIR}/snakemake_config.yaml"

rule all:
    input:
        f"{OUTPUT_DIR}/split_opt_cut_table.csv",
        f"{OUTPUT_DIR}/fits/mass_fit_combined_stitched.pdf",

rule split_charmonium_opt:
    input:
        f"{ANALYSIS_DIR}/analysis_output/.step2_complete",
    output:
        csv=f"{OUTPUT_DIR}/split_opt_cut_table.csv",
        plot=f"{OUTPUT_DIR}/fits/mass_fit_combined_stitched.pdf",
    params:
        config_dir=CONFIG_DIR,
        cache_dir=CACHE_DIR,
        output_dir=OUTPUT_DIR,
    script:
        "study_split_opt.py"
