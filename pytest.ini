[pytest]
# Pytest configuration for Bu2LambdaPKK analysis pipeline

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = analysis/tests

# Minimum pytest version
minversion = 7.0.0

# Additional options
addopts =
    -ra
    --strict-markers
    --strict-config
    --showlocals
    --tb=short
    --cov=analysis/modules
    --cov-report=term-missing:skip-covered
    --cov-report=html:htmlcov
    --cov-report=xml

# Custom test markers
markers =
    unit: Unit tests for individual modules
    integration: Integration tests for pipeline workflows
    validation: Validation tests for data integrity and error handling
    slow: Tests that take longer to execute
    cache: Tests related to cache operations
    config: Tests related to configuration loading

# Ignore patterns
norecursedirs =
    .git
    .tox
    dist
    build
    *.egg
    __pycache__
    cache
    analysis_output

# Coverage options
[coverage:run]
branch = True
source = analysis/modules
omit =
    */tests/*
    */__pycache__/*
    */site-packages/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

[coverage:html]
directory = htmlcov
